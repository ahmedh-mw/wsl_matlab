#####################################################################
#           Starting MATLAB Container
#####################################################################
export CI_IMAGE_NAME="matlab_ci"
export CI_IMAGE_TAG="r2024b_oct25_ready"
export IMAGE_FULLNAME="$CI_IMAGE_NAME:$CI_IMAGE_TAG"

sudo podman run -it --rm $IMAGE_FULLNAME /bin/bash
sudo podman run -it --rm $IMAGE_FULLNAME matlab -batch "disp('Hello from MATLAB non-interactive container'); new_system('a');exit;"
time sudo podman run -it --rm $IMAGE_FULLNAME matlab -batch "disp('Hello from MATLAB non-interactive container'); new_system('a');exit;"


# sudo apt-get update
# sudo apt-get install yq -y
export MLM_LICENSE_TOKEN="$(yq '.settings.secrets.mlm_license_token' ./../env.yml)"
sudo podman run -it --rm -e MLM_LICENSE_TOKEN=$MLM_LICENSE_TOKEN --name test_bs $IMAGE_FULLNAME matlab-batch "matlabSessionLoop('xxxYYYxxx');"
sudo podman exec test_bs matlab-bs -batch "disp('test123');pause(2);disp('test---');pause(2);disp('test123');"
sudo podman exec test_bs matlab-bs -batch "disp('test123');pause(2);disp('test---');pause(2);disp('test123');"

sudo podman exec test_bs matlab-bs -batch "disp('test123');pause(1);;throw(MException('id:e2', 'xxxx'));disp('test123');"

sudo podman exec test_bs matlab-bs -batch "exitSession"

sudo podman exec test_bs matlab-bs -batch "disp('Epsom salt: Everything you need to know Consider this your all-in-one resource on Epsom salt—what it is, how it works and why experts in a wide range of fields recommend using natural, pure Epsom salt in everything from at-home health, fitness and beauty treatments to gardening and crafts. What is Epsom salt? Epsom salt is simply magnesium sulfate, a pure, naturally occurring compound with dozens of uses—including some that may surprise you. You’ve likely heard of Epsom salt baths, which people have used for centuries as a natural pain remedy, but the compound has gained new attention in recent years, both within the medical and wellness communities and among a new generation of users, for its numerous benefits. What can Epsom salt be used for? Epsom salt’s health benefits range from treating skin irritations to fighting off seasonal colds and flu. Fitness enthusiasts swear by it to ease muscle and joint pain. Epsom salt can be used in beauty routines as an exfoliant and cuticle softener. It can even be helpful in the garden and in crafting.');disp('Epsom salt: Everything you need to know Consider this your all-in-one resource on Epsom salt—what it is, how it works and why experts in a wide range of fields recommend using natural, pure Epsom salt in everything from at-home health, fitness and beauty treatments to gardening and crafts. What is Epsom salt? Epsom salt is simply magnesium sulfate, a pure, naturally occurring compound with dozens of uses—including some that may surprise you. You’ve likely heard of Epsom salt baths, which people have used for centuries as a natural pain remedy, but the compound has gained new attention in recent years, both within the medical and wellness communities and among a new generation of users, for its numerous benefits. What can Epsom salt be used for? Epsom salt’s health benefits range from treating skin irritations to fighting off seasonal colds and flu. Fitness enthusiasts swear by it to ease muscle and joint pain. Epsom salt can be used in beauty routines as an exfoliant and cuticle softener. It can even be helpful in the garden and in crafting.');disp('Epsom salt: Everything you need to know Consider this your all-in-one resource on Epsom salt—what it is, how it works and why experts in a wide range of fields recommend using natural, pure Epsom salt in everything from at-home health, fitness and beauty treatments to gardening and crafts. What is Epsom salt? Epsom salt is simply magnesium sulfate, a pure, naturally occurring compound with dozens of uses—including some that may surprise you. You’ve likely heard of Epsom salt baths, which people have used for centuries as a natural pain remedy, but the compound has gained new attention in recent years, both within the medical and wellness communities and among a new generation of users, for its numerous benefits. What can Epsom salt be used for? Epsom salt’s health benefits range from treating skin irritations to fighting off seasonal colds and flu. Fitness enthusiasts swear by it to ease muscle and joint pain. Epsom salt can be used in beauty routines as an exfoliant and cuticle softener. It can even be helpful in the garden and in crafting.');disp('Epsom salt: Everything you need to know Consider this your all-in-one resource on Epsom salt—what it is, how it works and why experts in a wide range of fields recommend using natural, pure Epsom salt in everything from at-home health, fitness and beauty treatments to gardening and crafts. What is Epsom salt? Epsom salt is simply magnesium sulfate, a pure, naturally occurring compound with dozens of uses—including some that may surprise you. You’ve likely heard of Epsom salt baths, which people have used for centuries as a natural pain remedy, but the compound has gained new attention in recent years, both within the medical and wellness communities and among a new generation of users, for its numerous benefits. What can Epsom salt be used for? Epsom salt’s health benefits range from treating skin irritations to fighting off seasonal colds and flu. Fitness enthusiasts swear by it to ease muscle and joint pain. Epsom salt can be used in beauty routines as an exfoliant and cuticle softener. It can even be helpful in the garden and in crafting.');disp('Epsom salt: Everything you need to know Consider this your all-in-one resource on Epsom salt—what it is, how it works and why experts in a wide range of fields recommend using natural, pure Epsom salt in everything from at-home health, fitness and beauty treatments to gardening and crafts. What is Epsom salt? Epsom salt is simply magnesium sulfate, a pure, naturally occurring compound with dozens of uses—including some that may surprise you. You’ve likely heard of Epsom salt baths, which people have used for centuries as a natural pain remedy, but the compound has gained new attention in recent years, both within the medical and wellness communities and among a new generation of users, for its numerous benefits. What can Epsom salt be used for? Epsom salt’s health benefits range from treating skin irritations to fighting off seasonal colds and flu. Fitness enthusiasts swear by it to ease muscle and joint pain. Epsom salt can be used in beauty routines as an exfoliant and cuticle softener. It can even be helpful in the garden and in crafting.');"

